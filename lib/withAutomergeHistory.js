"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _automergeEditor = require("./automerge-editor");

/**
 * The `withAutomergeHistory` plugin adds history to collaborative documents
 */
var withAutomergeHistory = function withAutomergeHistory(editor, options) {
  console.log('history applied');
  var e = editor;

  var _ref = options || {},
      docId = _ref.docId;

  e.undo = function () {
    _automergeEditor.AutomergeEditor.undo(e, docId);
  };

  e.redo = function () {
    _automergeEditor.AutomergeEditor.redo(e, docId);
  };

  return e;
};

var _default = withAutomergeHistory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy93aXRoQXV0b21lcmdlSGlzdG9yeS50cyJdLCJuYW1lcyI6WyJ3aXRoQXV0b21lcmdlSGlzdG9yeSIsImVkaXRvciIsIm9wdGlvbnMiLCJjb25zb2xlIiwibG9nIiwiZSIsImRvY0lkIiwidW5kbyIsIkF1dG9tZXJnZUVkaXRvciIsInJlZG8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFJQTs7QUFhQTs7O0FBSUEsSUFBTUEsb0JBQW9CLEdBQUcsU0FBdkJBLG9CQUF1QixDQUMzQkMsTUFEMkIsRUFFM0JDLE9BRjJCLEVBR3hCO0FBQ0hDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGlCQUFaO0FBRUEsTUFBTUMsQ0FBQyxHQUFHSixNQUFWOztBQUhHLGFBS2VDLE9BQU8sSUFBSSxFQUwxQjtBQUFBLE1BS0tJLEtBTEwsUUFLS0EsS0FMTDs7QUFPSEQsRUFBQUEsQ0FBQyxDQUFDRSxJQUFGLEdBQVMsWUFBTTtBQUNiQyxxQ0FBZ0JELElBQWhCLENBQXFCRixDQUFyQixFQUF3QkMsS0FBeEI7QUFDRCxHQUZEOztBQUlBRCxFQUFBQSxDQUFDLENBQUNJLElBQUYsR0FBUyxZQUFNO0FBQ2JELHFDQUFnQkMsSUFBaEIsQ0FBcUJKLENBQXJCLEVBQXdCQyxLQUF4QjtBQUNELEdBRkQ7O0FBSUEsU0FBT0QsQ0FBUDtBQUNELENBbkJEOztlQXFCZUwsb0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXV0b21lcmdlIGZyb20gJ2F1dG9tZXJnZSdcblxuaW1wb3J0IHsgRWRpdG9yIH0gZnJvbSAnc2xhdGUnXG5cbmltcG9ydCB7IEF1dG9tZXJnZUVkaXRvciB9IGZyb20gJy4vYXV0b21lcmdlLWVkaXRvcidcblxuaW1wb3J0IHsgQ3Vyc29yRGF0YSwgQ29sbGFiQWN0aW9uIH0gZnJvbSAnQHNsYXRlLWNvbGxhYm9yYXRpdmUvYnJpZGdlJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEhpc3RvcnlFZGl0b3IgZXh0ZW5kcyBFZGl0b3Ige1xuICB1bmRvOiAoKSA9PiB2b2lkXG4gIHJlZG86ICgpID0+IHZvaWRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdXRvbWVyZ2VIaXN0b3J5T3B0aW9ucyB7XG4gIGRvY0lkOiBzdHJpbmdcbn1cblxuLyoqXG4gKiBUaGUgYHdpdGhBdXRvbWVyZ2VIaXN0b3J5YCBwbHVnaW4gYWRkcyBoaXN0b3J5IHRvIGNvbGxhYm9yYXRpdmUgZG9jdW1lbnRzXG4gKi9cblxuY29uc3Qgd2l0aEF1dG9tZXJnZUhpc3RvcnkgPSA8VCBleHRlbmRzIEVkaXRvcj4oXG4gIGVkaXRvcjogVCxcbiAgb3B0aW9uczogQXV0b21lcmdlSGlzdG9yeU9wdGlvbnNcbikgPT4ge1xuICBjb25zb2xlLmxvZygnaGlzdG9yeSBhcHBsaWVkJylcblxuICBjb25zdCBlID0gZWRpdG9yIGFzIFQgJiBBdXRvbWVyZ2VFZGl0b3IgJiBIaXN0b3J5RWRpdG9yXG5cbiAgY29uc3QgeyBkb2NJZCB9ID0gb3B0aW9ucyB8fCB7fVxuXG4gIGUudW5kbyA9ICgpID0+IHtcbiAgICBBdXRvbWVyZ2VFZGl0b3IudW5kbyhlLCBkb2NJZCk7XG4gIH1cblxuICBlLnJlZG8gPSAoKSA9PiB7XG4gICAgQXV0b21lcmdlRWRpdG9yLnJlZG8oZSwgZG9jSWQpO1xuICB9XG5cbiAgcmV0dXJuIGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHdpdGhBdXRvbWVyZ2VIaXN0b3J5XG4iXX0=